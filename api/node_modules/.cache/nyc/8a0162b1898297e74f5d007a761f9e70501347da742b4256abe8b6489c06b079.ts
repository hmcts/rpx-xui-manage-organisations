"use strict";var cov_9f12xstpt=function(){var path="/home/alan/Cloud/workspaces/prd-pui-manager/api/lib/errorStack.ts";var hash="102b1fd2fd195ab62f46ae7d43774e6cdd1d4883";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/alan/Cloud/workspaces/prd-pui-manager/api/lib/errorStack.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:14},end:{line:3,column:18}},"2":{start:{line:5,column:4},end:{line:5,column:18}},"3":{start:{line:6,column:4},end:{line:6,column:36}},"4":{start:{line:7,column:4},end:{line:7,column:11}},"5":{start:{line:9,column:0},end:{line:9,column:32}},"6":{start:{line:12,column:4},end:{line:12,column:42}},"7":{start:{line:14,column:0},end:{line:14,column:20}},"8":{start:{line:16,column:4},end:{line:16,column:44}},"9":{start:{line:18,column:0},end:{line:18,column:18}},"10":{start:{line:20,column:19},end:{line:20,column:21}},"11":{start:{line:21,column:16},end:{line:21,column:17}},"12":{start:{line:22,column:4},end:{line:30,column:7}},"13":{start:{line:23,column:8},end:{line:29,column:9}},"14":{start:{line:24,column:12},end:{line:24,column:42}},"15":{start:{line:27,column:12},end:{line:27,column:36}},"16":{start:{line:28,column:12},end:{line:28,column:20}},"17":{start:{line:31,column:4},end:{line:31,column:20}},"18":{start:{line:33,column:0},end:{line:33,column:18}}},fnMap:{"0":{name:"errorStack",decl:{start:{line:4,column:9},end:{line:4,column:19}},loc:{start:{line:4,column:36},end:{line:8,column:1}},line:4},"1":{name:"push",decl:{start:{line:11,column:9},end:{line:11,column:13}},loc:{start:{line:11,column:20},end:{line:13,column:1}},line:11},"2":{name:"pop",decl:{start:{line:15,column:9},end:{line:15,column:12}},loc:{start:{line:15,column:15},end:{line:17,column:1}},line:15},"3":{name:"get",decl:{start:{line:19,column:9},end:{line:19,column:12}},loc:{start:{line:19,column:15},end:{line:32,column:1}},line:19},"4":{name:"(anonymous_4)",decl:{start:{line:22,column:45},end:{line:22,column:46}},loc:{start:{line:22,column:62},end:{line:30,column:5}},line:22}},branchMap:{"0":{loc:{start:{line:23,column:8},end:{line:29,column:9}},type:"if",locations:[{start:{line:23,column:8},end:{line:29,column:9}},{start:{line:23,column:8},end:{line:29,column:9}}],line:23}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"102b1fd2fd195ab62f46ae7d43774e6cdd1d4883"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_9f12xstpt.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var request=(cov_9f12xstpt.s[1]++,null);function errorStack(req,res,next){cov_9f12xstpt.f[0]++;cov_9f12xstpt.s[2]++;request=req;cov_9f12xstpt.s[3]++;request.session.errorStack=[];cov_9f12xstpt.s[4]++;next();}cov_9f12xstpt.s[5]++;exports.errorStack=errorStack;// if the data is ana rray the first entry will be a key when returned by get()
function push(data){cov_9f12xstpt.f[1]++;cov_9f12xstpt.s[6]++;request.session.errorStack.push(data);}cov_9f12xstpt.s[7]++;exports.push=push;function pop(){cov_9f12xstpt.f[2]++;cov_9f12xstpt.s[8]++;return request.session.errorStack.pop();}cov_9f12xstpt.s[9]++;exports.pop=pop;function get(){cov_9f12xstpt.f[3]++;var outArray=(cov_9f12xstpt.s[10]++,{});var count=(cov_9f12xstpt.s[11]++,0);cov_9f12xstpt.s[12]++;request.session.errorStack.reverse().map(function(error){cov_9f12xstpt.f[4]++;cov_9f12xstpt.s[13]++;if(Array.isArray(error)){cov_9f12xstpt.b[0][0]++;cov_9f12xstpt.s[14]++;outArray[error[0]]=error[1];}else{cov_9f12xstpt.b[0][1]++;cov_9f12xstpt.s[15]++;outArray[count]=error;cov_9f12xstpt.s[16]++;count++;}});cov_9f12xstpt.s[17]++;return outArray;}cov_9f12xstpt.s[18]++;exports.get=get;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvYWxhbi9DbG91ZC93b3Jrc3BhY2VzL3ByZC1wdWktbWFuYWdlci9hcGkvbGliL2Vycm9yU3RhY2sudHMiLCJzb3VyY2VzIjpbIi9ob21lL2FsYW4vQ2xvdWQvd29ya3NwYWNlcy9wcmQtcHVpLW1hbmFnZXIvYXBpL2xpYi9lcnJvclN0YWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsSUFBSyxPQUFPLEdBQUcsSUFBSSxDQUFBO0FBRW5CLG9CQUEyQixHQUFvQixFQUFHLEdBQXFCLEVBQUcsSUFBSTtJQUMxRSxPQUFPLEdBQUcsR0FBRyxDQUFBO0lBQ2IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFBO0lBQy9CLElBQUksRUFBRSxDQUFBO0FBRVYsQ0FBQztBQUxELGdDQUtDO0FBQ0QsK0VBQStFO0FBQy9FLGNBQXFCLElBQVM7SUFDMUIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3pDLENBQUM7QUFGRCxvQkFFQztBQUVEO0lBQ0ksT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtBQUMzQyxDQUFDO0FBRkQsa0JBRUM7QUFFRDtJQUNJLElBQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQTtJQUNuQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUE7SUFFYixPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsVUFBQSxLQUFLO1FBQzFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN0QixRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQ2hDO2FBQU07WUFDSCxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFBO1lBQ3ZCLEtBQUssRUFBRSxDQUFBO1NBQ1Y7SUFDTCxDQUFDLENBQUMsQ0FBQTtJQUVGLE9BQU8sUUFBUSxDQUFBO0FBQ25CLENBQUM7QUFkRCxrQkFjQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcblxubGV0ICByZXF1ZXN0ID0gbnVsbFxuXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JTdGFjayhyZXE6IGV4cHJlc3MuUmVxdWVzdCAsIHJlczogZXhwcmVzcy5SZXNwb25zZSAsIG5leHQpe1xuICAgIHJlcXVlc3QgPSByZXFcbiAgICByZXF1ZXN0LnNlc3Npb24uZXJyb3JTdGFjayA9IFtdXG4gICAgbmV4dCgpXG5cbn1cbi8vIGlmIHRoZSBkYXRhIGlzIGFuYSBycmF5IHRoZSBmaXJzdCBlbnRyeSB3aWxsIGJlIGEga2V5IHdoZW4gcmV0dXJuZWQgYnkgZ2V0KClcbmV4cG9ydCBmdW5jdGlvbiBwdXNoKGRhdGE6IGFueSk6IHZvaWQge1xuICAgIHJlcXVlc3Quc2Vzc2lvbi5lcnJvclN0YWNrLnB1c2goZGF0YSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcCgpOiBhbnkge1xuICAgIHJldHVybiByZXF1ZXN0LnNlc3Npb24uZXJyb3JTdGFjay5wb3AoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KCkge1xuICAgIGNvbnN0IG91dEFycmF5ID0ge31cbiAgICBsZXQgY291bnQgPSAwXG5cbiAgICByZXF1ZXN0LnNlc3Npb24uZXJyb3JTdGFjay5yZXZlcnNlKCkubWFwKGVycm9yID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXJyb3IpKSB7XG4gICAgICAgICAgICBvdXRBcnJheVtlcnJvclswXV0gPSBlcnJvclsxXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0QXJyYXlbY291bnRdID0gZXJyb3JcbiAgICAgICAgICAgIGNvdW50KytcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gb3V0QXJyYXlcbn1cbiJdfQ==