<main id="content" class="govuk-main-wrapper" role="main" tabindex="-1">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <a class="govuk-back-link" href="javascript:void(0)" (click)="onBack()">Back</a>
      <span class="govuk-caption-xl">Register an organisation</span>
      <h1 class="govuk-heading-xl">
        What PBA numbers does your organisation use?
      </h1>
      <hr>
      <form [formGroup]="pbaDetailsFormGroup">
        <div formArrayName="pbaNumbers" [ngClass]="{'govuk-form-group--error': summaryErrors && !summaryErrors.isFromValid}">
          <div *ngFor="let pbaNumberCtrl of pbaNumbers.controls; let i = index">
            <p class="govuk-error-message" *ngIf="summaryErrors && !summaryErrors.isFromValid">
              <span class="govuk-visually-hidden">Error:</span>{{summaryErrors.items[i].message}}
            </p>
            <div class="govuk-!-margin-bottom-6" [formGroupName]="i">
              <label class="govuk-label govuk-!-font-weight-bold" for="pba-number">
                PBA number
              </label>
              <input class="govuk-input govuk-input--width-20" id="pba-number-{{i}}" type="text"
                name="pbaNumber" formControlName="pbaNumber">
              <button *ngIf="pbaNumbers.controls.length > 1" (click)="onRemovePBANumber(i)"
                class="govuk-button govuk-button--secondary govuk-!-margin-left-4 govuk-!-margin-bottom-0">
                Remove
              </button>
            </div>
          </div>
          <div>
            <button class="govuk-button govuk-button--secondary" (click)="onAddNewPBANumber()">
              Add another PBA number
            </button>
          </div>
        </div>
        <div class="govuk-button-group">
          <button class="govuk-button govuk-button--primary" data-module="govuk-button" (click)="onContinue()">
            Continue
          </button>
        </div>
        <a class="govuk-link" href="javascript:void(0)" (click)="onCancel()">Cancel</a>
      </form>
    </div>
  </div>
</main>
