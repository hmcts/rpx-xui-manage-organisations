<h2 class="govuk-heading-l">Case management and access</h2>
<!-- Display if OrganisationProfileId = 'SOLICITOR_PROFILE' -->
<app-solicitor-profile-content
  *ngIf="hasSolicitorProfile"
></app-solicitor-profile-content>
<!-- Display if OrganisationProfileId LIKE 'OGD_*' -->
<app-ogd-profile-content *ngIf="hasOgdProfile"></app-ogd-profile-content>
<div class="govuk-form-group">
  <form
    *ngIf="jurisdictionPermissionsForm"
    [formGroup]="jurisdictionPermissionsForm"
  >
    <div formArrayName="jurisdictions">
      <ng-container
        *ngFor="
          let jurisdiction of jurisdictionsFormArray.controls;
          let i = index
        "
      >
        <!-- The jurisdiction name -->
        <fieldset class="govuk-fieldset">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
            <h1 class="govuk-fieldset__heading govuk-label--m">
              {{ jurisdiction.value.jurisdictionName }}
            </h1>
          </legend>
        </fieldset>

        <!-- The access type available -->
        <div class="govuk-form-group" [formGroupName]="i">
          <div class="govuk-checkboxes" data-module="govuk-checkboxes">
            <div formArrayName="accessTypes">
              <ng-container
                *ngFor="
                  let accesssType of jurisdiction.value.accessTypes;
                  let j = index
                "
              >
                <div class="govuk-checkboxes__item" [formGroupName]="j">
                  <input
                    class="govuk-checkboxes__input"
                    [id]="accesssType.accessTypeId"
                    [value]="accesssType.accessTypeId"
                    [name]="accesssType.description"
                    [checked]="accesssType.enabled"
                    formControlName="enabled"
                    type="checkbox"
                    [attr.aria-disabled]="
                      accesssType.mandatory ? 'true' : 'false'
                    "
                  />
                  <label
                    class="govuk-label govuk-checkboxes__label"
                    [for]="accesssType.accessTypeId"
                  >
                    {{ accesssType.description }}
                  </label>
                </div>
              </ng-container>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </form>
</div>
