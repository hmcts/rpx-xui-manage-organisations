@if (!isSuspendView()) {
  <app-hmcts-main-wrapper
    [title]="isPending(user?.status)?'Pending user details':'User details'"
    [backLink]="'/users'"
    [actionButtons]="actionButtons"
    >
    @if (!(isLoading$ | async)) {
      <xuilib-user-details
        [user]="user"
        [enabledAccessTypes]="userAccessTypes"
        [editPermissionRouterLink]="editPermissionRouter"
        [showEditLink]="isInactive(user?.status)"
        [showHelpLink]="isSuspended(user?.status)"
        [warningTitle]="isSuspended(user?.status)?'This user\'s account has been suspended.': null"
        [suspendHelpLink]="'/get-help'"
        (reinvite)="reinviteUser($event)">
      </xuilib-user-details>
    } @else {
      <div>Loading...</div>
    }
  </app-hmcts-main-wrapper>
}

@if (isSuspendView()) {
  <app-hmcts-main-wrapper
    [title]="'Are you sure you want to suspend this account?'"
    [backAction]="hideSuspendView"
    >
    <xuilib-user-details
      [user]="user"
      [showEditLink]="isInactive(user?.status)"
      [showHelpLink]="isSuspended(user?.status)"
      [warningTitle]="'If you suspend this user’s account, they’ll no longer be able to access MyHMCTS services. You will need to contact the service desk to reactivate this account.'"
      (suspendUserEvent)="suspendUser($event)"
    [showSuspendUserButton]="true"></xuilib-user-details>
  </app-hmcts-main-wrapper>
}
